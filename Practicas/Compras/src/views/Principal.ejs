<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CAJA NACIONAL DE SALUD - DISTRITAL TUPIZA</title>
   <link rel="stylesheet" href="../css/Style.css" />
  <link rel="stylesheet" href="../css/Style1.css" />
  <link rel="stylesheet" href="../css/med.css" />
  
</head>
<body>
  <header>
    <div class="header-left">
      <img src="/images/logo.png" alt="Logo Caja Nacional de Salud" height="100" />
      <div class="header-text">
        <h1>CAJA NACIONAL DE SALUD</h1>
      </div>
    </div>
    <div class="user-info">
      <img src="/images/usuario.svg" alt="Usuario" class="user-icon" />
      <span>Bienvenido, <%= usuario ? usuario.nombre : 'Invitado' %></span>
    </div>
  </header>

  <nav class="header-right">
    <div class="header-title">
      <ul>
        <h2>DISTRITAL TUPIZA</h2>
        <li><a href="/">Inicio</a></li>
        <li class="coltext">Usuarios
          <ul>
            <li><a href="/usuarios">Lista de Usuarios</a></li>
            <li><a href="/usuarios/crear">Registrar Usuario</a></li>
          </ul>
        </li>
        <li class="coltext">Compras
          <ul>
            <li><a href="/compras">Lista de Compras</a></li>
            <li><a href="/compras/crear">Registrar Compra</a></li>
          </ul>
        </li>
        <li class="coltext">Productos
          <ul>
            <li><a href="/productos">Lista de Productos</a></li>
            <li><a href="/productos/crear">Registrar Producto</a></li>
          </ul>
        </li>
        <li class="coltext">Proveedores
          <ul>
            <li><a href="/proveedores">Lista de Proveedores</a></li>
            <li><a href="/proveedores/crear">Registrar Proveedor</a></li>
          </ul>
        </li>
        <li>
          <a href="#" onclick="event.preventDefault(); document.getElementById('logout-form').submit();">Salir</a>
        </li>
      </ul>
    </div>
      <form id="logout-form" action="/auth/logout" method="POST" style="display: none;">
      </form>
  </nav>
  
  <div class="container">
    <div class="text-container">
      <div class="content-box" style="flex-direction: column;">
        <div class="content" style="margin-top: 1rem;">
          <div class="text">
            <h1>Caja Nacional de Salud</h1>
            <p>
              La Caja Nacional de Salud (CNS) es una institución pública boliviana que brinda servicios de salud a los trabajadores y sus familias. Su misión es garantizar la atención médica integral, la protección social y la promoción de la salud en todo el país.
            </p>
            <p>
              En esta plataforma puedes visualizar todas las compras realizadas, registrar nuevas compras, editar y eliminar según sea necesario.
            </p>
            <p>
              También puedes gestionar proveedores, incluyendo la posibilidad de agregar, editar y eliminar proveedores.
            </p>
            <p>
              Usa el menú para navegar entre las diferentes secciones.
            </p>
          </div>
        </div>
      </div>
    </div>
    
    <div class="carousel-column">
      <!-- Primer carrusel: Medicos emergencia -->
      <div class="carousel-wrapper" aria-label="Horarios médicos emergencia">
        <h3>TURNO MEDICOS DE EMERGENCIA</h3>

        <button class="carousel-arrow left" aria-label="Desplazar izquierda" type="button">&#9664;</button>
        <button class="carousel-arrow right" aria-label="Desplazar derecha" type="button">&#9654;</button>

        <div class="carousel-container" role="region" aria-live="polite" tabindex="0">
          <table class="medicos-table" role="table">
            <thead>
              <tr>
                <th>MAYO-2025</th>
                <th>Lunes 12/05</th>
                <th>Martes 13/05</th>
                <th>Miércoles 14/05</th>
                <th>Jueves 15/05</th>
                <th>Viernes 16/05</th>
                <th>Sábado 17/05</th>
                <th>Domingo 18/05</th>
                <th>Estado</th>
              </tr>
            </thead>
            <tbody>
              <% medicos.forEach(doctor => { %>
                <tr>
                  <td><%= doctor.nombre %></td>
                  <td><%= doctor.horario.lunes %></td>
                  <td><%= doctor.horario.martes %></td>
                  <td><%= doctor.horario.miercoles %></td>
                  <td><%= doctor.horario.jueves %></td>
                  <td><%= doctor.horario.viernes %></td>
                  <td><%= doctor.horario.sabado %></td>
                  <td><%= doctor.horario.domingo %></td>
                  <td class="
                    <% if(doctor.estado === 'Disponible') { %>estado-disponible<% } else if(doctor.estado === 'Vacaciones') { %>estado-vacaciones<% } else { %>estado-licencia<% } %>
                  "><%= doctor.estado %></td>
                </tr>
              <% }); %>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Segundo carrusel: Medicos adicionales -->
      <div class="carousel-wrapper" aria-label="Horarios médicos adicionales">
        <h3>HORARIOS ADICIONALES DE MÉDICOS</h3>

        <button class="carousel-arrow left" aria-label="Desplazar izquierda" type="button">&#9664;</button>
        <button class="carousel-arrow right" aria-label="Desplazar derecha" type="button">&#9654;</button>

        <div class="carousel-container" role="region" aria-live="polite" tabindex="0">
          <table class="medicos-table" role="table">
            <thead>
              <tr>
                <th>Médico</th>
                <th>Estado</th>
                <th>Horario</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Dr. Medina</td>
                <td>Licencia</td>
                <td></td>
              </tr>
              <tr>
                <td>Dra. Chispas</td>
                <td>Vacaciones</td>
                <td></td>
              </tr>
              <tr>
                <td>Dr. Sume</td>
                <td></td>
                <td>8:00 a 14:00</td>
              </tr>
              <tr>
                <td>Dra. Cervantes</td>
                <td></td>
                <td>14:00 a 20:00</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <footer>
    &copy; 2025 Caja Nacional de Salud - Todos los derechos reservados
  </footer>

  <script>
    // Funcion para inicializar carruseles, toma el wrapper como parámetro
    function initCarousel(carouselWrapper) {
      const carousel = carouselWrapper.querySelector('.carousel-container');
      const leftArrow = carouselWrapper.querySelector('.carousel-arrow.left');
      const rightArrow = carouselWrapper.querySelector('.carousel-arrow.right');
      const scrollAmount = 150;

      leftArrow.addEventListener('click', () => {
        carousel.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
      });

      rightArrow.addEventListener('click', () => {
        carousel.scrollBy({ left: scrollAmount, behavior: 'smooth' });
      });
    }

    // Inicializar ambos carruseles independientemente
    document.querySelectorAll('.carousel-wrapper').forEach(wrapper => {
      initCarousel(wrapper);
    });
  </script>
</body>
</html>

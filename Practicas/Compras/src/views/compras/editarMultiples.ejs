<!--  src/views/compras/editarMultiples.ejs -->
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modificar Compras</title>
    <link rel="stylesheet" href="/css/Style.css">
  <link rel="stylesheet" href="/css/editar.css">
</head>
<body>
  <header>
    <div class="header-left">
      <img src="/images/logo.png" alt="Logo Caja Nacional de Salud" />
      <div class="header-text">
        <h1>CAJA NACIONAL DE SALUD</h1>
        <h2>DISTRITAL TUPIZA</h2>
      </div>
    </div>
  </header>
  <nav class="header-right">
    <ul>
      <li><a href="/">Inicio</a></li>
      <li class="coltext">Usuarios
        <ul>
          <li><a href="/usuarios">Lista de Usuarios</a></li>
          <li><a href="/usuarios/crear">Registrar Usuario</a></li>
        </ul>
      </li>
      <li class="coltext">Compras
        <ul>
          <li><a href="/compras">Lista de Compras</a></li>
          <li><a href="/compras/crear">Registrar Compra</a></li>
        </ul>
      </li>
    </ul>
  </nav>
  <% if (typeof errores !== 'undefined' && errores.length > 0) { %>
    <script>
      const errores = <%- JSON.stringify(errores) %>;
      alert(errores.join('\\n'));
    </script>
  <% } %>
  <form id="modificarForm" action="/compras/editarMultiples" method="POST">
        <% compras.forEach(compra => { %>
            <div>
                <input type="checkbox" name="seleccionado" value="<%= compra.id %>" class="seleccion-checkbox"> <!-- Checkbox para seleccionar la compra -->
                <label>Cite:</label>
                <input type="text" name="cite-<%= compra.id %>" value="<%= compra.cite %>">
            </div>
            <div>
                <label>CÃ³digo:</label>
                <input type="text" name="codigo-<%= compra.id %>" value="<%= compra.codigo %>">
            </div>
            <div>
                <label>Cantidad:</label>
                <input type="number" name="cantidad-<%= compra.id %>" value="<%= compra.cantidad %>">
            </div>
            <div>
                <label>Producto:</label>
                <input type="text" name="producto-<%= compra.id %>" value="<%= compra.producto %>">
            </div>
            <div>
                <label>Precio Unitario:</label>
                <input type="number" step="0.01" name="precio_unitario-<%= compra.id %>" value="<%= compra.precio_unitario %>">
            </div>
            <div>
                <label>Costo Total:</label>
                <input type="number" step="0.01" name="costo_total-<%= compra.id %>" value="<%= compra.costo_total %>">
            </div>
            <div>
              <label>Proveedor:</label>
              <input type="text" name="proveedor-<%= compra.id %>" value="<%= compra.proveedor %>"> 
          </div>
            <div>
                <label>Fecha:</label>
                <input type="date" name="fecha-<%= compra.id %>" value="<%= compra.fecha instanceof Date ? compra.fecha.toISOString().split('T')[0] : '' %>">
            </div>
            <hr>
        <% }) %>
        <button type="submit" class="btn">Guardar Cambios</button>
  </form>
  
</body>
</html>